<!DOCTYPE html>
<!-- saved from url=(0059)https://w3ctrain.com/2018/08/20/trigonometry-you-must-know/ -->
<html class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  
  <title>三角函数在前端动画中的应用 | w3cTrain</title>
  <meta name="author" content="helkyle">
  
  <meta name="description" content="前端资讯分享平台">
  

  
    <meta name="keywords" content="w3ctrain,教程,css3,font-end,免费教学录像带">
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="三角函数在前端动画中的应用">
  <meta property="og:site_name" content="w3cTrain">
  <meta name="baidu_union_verify" content="5a7a24c1177bdee2840e5cc08e107f96">
  
    <meta property="og:image" content="undefined">
  
  <link rel="stylesheet" href="./01_files/style.css" type="text/css">
  <link href="https://w3ctrain.com/favicon.ico" rel="shortcut icon">
  <link rel="alternate" href="https://w3ctrain.com/atom.xml" title="w3cTrain" type="application/atom+xml">
  <script src="./01_files/hm.js.下載"></script><script src="./01_files/jquery-2.1.3.min.js.下載"></script>
<style type="text/css">.fancybox-margin{margin-right:17px;}</style></head>

<body class="theme-w3ctrain">
    <div class="sidebar">
  <h1 class="logo">
    <a href="https://helkyle.github.io/">
      <img src="./01_files/helkyle-avatar.jpg" alt="">
    </a>
    <span class="hidden">w3ctrain</span>
    <!-- w3cTrain -->
  </h1>
  <nav class="nav">
    <ul><li><a href="https://w3ctrain.com/">首页</a></li>
    </ul>
  </nav>
  <div class="close" id="menu-close">
  </div>
</div>

<div id="sidebarMask">
</div>

    <div class="main clearfix">
        


    


<div class="nav">
    <div class="toggle-nav">
        <button type="button" name="button" class="btn btn-light" id="nav-menu">Menu</button>
        
            <a href="https://w3ctrain.com/" class="btn" id="returnHome">←首页</a>
            
    </div>
</div>

<header class="primary-header" style="background-image: url(https://dn-w3ctrain.qbox.me/upload_45025fcd1837ff31048db203afa206c1-sadman-sine.gif)">
    <div class="content parallax-content js-gradient-header">
        <div class="container">
            
                

    <!-- 首页 -->
    
        <!-- 文章头部 -->
        <div class="post-info is-post">
            <h2 class="title">
                三角函数在前端动画中的应用
            </h2>
            <div class="detail">
                
                    <a href="http://weibo.com/joueu" target="__blank" class="author">
                        <img class="no-fancybox" src="./01_files/avatar.png" alt="Helkyle">
                        ・
                        <strong class="nickname">Helkyle</strong>
                    </a>
                
                <div class="tips">
                    <span class="post-count">19分钟 |</span>
                    <span class="localTime" datetime="2018-08-19T16:28:50.000Z">3 天前</span>
                    <!-- <a href="2018/08/20/trigonometry-you-must-know/"> -->
                    
                        | <a href="https://juejin.im/entry/5b79a1d6f265da4343459b7f/detail"><img class="juejin-like" src="./01_files/likes.svg"></a>
                    
                    <!-- </a> -->
                </div>
            </div>
            
  
  <div class="tag-list">
    <a class="tag" href="https://w3ctrain.com/tags/%E5%85%8D%E8%B4%B9%E6%95%99%E5%AD%A6%E5%BD%95%E5%83%8F%E5%B8%A6/">免费教学录像带</a>
  </div>


        </div>
      
  

            
            <div class="wrapper">
  <div class="social-box">
    <div class="front">
      FOLLOW ME
    </div>
    <div class="back">
      <ul class="social">
          
          <li>
            <a href="https://juejin.im/user/5656940e00b0bf379ef323f6" title="juejin">
              <img src="./01_files/juejin.svg">
            </a>
          </li>
          
          <li>
            <a href="https://github.com/HelKyle" title="github">
              <img src="./01_files/github.svg">
            </a>
          </li>
          
          <li>
            <a href="https://weibo.com/joueu" title="weibo">
              <img src="./01_files/weibo.svg">
            </a>
          </li>
          
        </ul>
    </div>
  </div>
</div>

        </div>
    </div>
    <div class="mask">
    </div>
    <header class="mobile-nav" style="">
	<nav class="nav">
		<ul id="cd-navigation">
      		<li><a href="https://w3ctrain.com/">首页</a></li>
		</ul>
	</nav>
</header>

</header>

<div class="main-content">
  <div class="container">
    <article class="post">
      <div class="post-content">
        <blockquote>
  <p>【深圳】DJI 大疆创新 互联网团队 前端及大量职位招聘中 (内推 15-50k + 丰厚年终 + 股份)简历请发至 evan.zhou#dji.com， 合适的话当天回复，当天内推。
    <a href="https://w3ctech.com/topic/2127">更多福利</a>
  </p>
</blockquote>
        <div class="entry">
          
                <p>我是个很懒的人，开发过程中经常有意无意地刻意避开数学相关的知识，你也知道解数学题非常枯燥无趣。平时写动画也尽量使用 css3 来实现，timer-function 随意选用，最多也就调一下 <a href="https://w3ctrain.com/2018/08/20/trigonometry-you-must-know/cubic-bezier.com">cubic-bezier</a>，找到看着舒服的就行。但是怎样让动画更顺滑，写出更贴近自然的动画，说实话以前我没怎么考虑过。</p>
<p>每次当动效设计师提出，能不能这样那样的时候，我会理所当然地予以否决。所以有很长一段时间，我非常羡慕那些能用 canvas 绘制很酷炫的动画的程序员。</p>
<p><a href="./01_files/upload_45025fcd1837ff31048db203afa206c1-sadman-sine.gif" title="sad man in sine" class="fancybox" rel="article0"><img src="./01_files/upload_45025fcd1837ff31048db203afa206c1-sadman-sine.gif" alt="sad man in sine"></a><div class="fancybox-caption"><span>sad man in sine</span></div><br><a id="more"></a></p>
<blockquote>
<p>先这样吧，又不是不会动。</p>
</blockquote>
<p>今天来分享一下三角函数相关的内容，<strong>如果刚学前端的时候有人教我这些，我会很开心。</strong></p>
<h2 id="三角函数"><a href="https://w3ctrain.com/2018/08/20/trigonometry-you-must-know/#%E4%B8%89%E8%A7%92%E5%87%BD%E6%95%B0" class="headerlink" title="三角函数"></a>三角函数</h2><p>三角函数已经是老生常谈了（街舞圈称之为 Old School），它伴随我们从初中到大学，太多的公式定理，光是应付考试就花了不少时间。先简单回顾一下，确保你还记得基础知识。</p>
<p><strong>勾股定理</strong></p>
<p>最开始学三角函数的时候就是从背勾三股四弦五开始，勾股定理描述的是对于直角三角形，直角两条边的平方和等于斜边的平方，</p>
<p><a href="./01_files/upload_55e658873024bd1dd4b6fcc4b1727c09-150px-Trigonometry_triangle_sim.png" title="a^2 + b^2 = h^2" class="fancybox" rel="article0"><img src="./01_files/upload_55e658873024bd1dd4b6fcc4b1727c09-150px-Trigonometry_triangle_sim.png" alt="a^2 + b^2 = h^2"></a><div class="fancybox-caption"><span>a^2 + b^2 = h^2</span></div></p>
<p><strong>常用三角函数</strong></p>
<p>印象中教科书里面只保留了 sin, cos, tan，其他可以通过变换得到。<br></p><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sinθ = a / h</span><br><span class="line">cosθ = b / h</span><br><span class="line">tanθ = a / b</span><br></pre></td></tr></tbody></table></figure></div><p></p>
<p><strong>极坐标系和单位圆</strong></p>
<p>在笛卡尔直角坐标系中，任一点 (x, y) 都可以转化成极坐标表示 (r, θ)，其中</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">r = Math.sqrt(x^2 + y^2)</span><br><span class="line">θ = Math.atan2(y, x)</span><br></pre></td></tr></tbody></table></figure></div>
<p>单位圆的定义是半径为单位长度的圆，圆上任意一点的横坐标就是对应角度的余弦值，任意点的纵坐标就是对应角度的正弦值。</p>
<p><a href="./01_files/upload_a7314aa451b0583466c772ae87c39e50-moments-of-happiness-circle1.gif" title="单位圆" class="fancybox" rel="article0"><img src="./01_files/upload_a7314aa451b0583466c772ae87c39e50-moments-of-happiness-circle1.gif" alt="单位圆"></a><div class="fancybox-caption"><span>单位圆</span></div></p>
<p><strong>简单的图像变换</strong><br>以正弦曲线为例，对函数进行简单的变换，得到不一样的结果。</p>
<p><a href="./01_files/upload_6f55538bede5df754d2d253a8376d067-xxxx.png" title="正弦曲线变换" class="fancybox" rel="article0"><img src="./01_files/upload_6f55538bede5df754d2d253a8376d067-xxxx.png" alt="正弦曲线变换"></a><div class="fancybox-caption"><span>正弦曲线变换</span></div></p>
<p>正弦曲线公式：<code>y = A sin(Bx + C) + D</code></p>
<p>A 控制振幅，A 值越大，波峰和波谷越大，A 值越小，波峰和波谷越小；<br>B 值会影响周期，B 值越大，那么周期越短，B 值越小，周期越长。<br>C 值会影响图像左右移动，C 值为正数，图像右移，C 值为负数，图像左移。<br>D 值控制上下移动。</p>
<p>这个公式非常有用，如果下文的代码让你不解，记得回来查看注解。</p>
<p>简单得回顾一下之后，确保你还记得这些基础知识，那么这些曾经被得滚瓜烂熟的内容，和前端代码结合会变成什么样？</p>
<h2 id="常见的应用场景"><a href="https://w3ctrain.com/2018/08/20/trigonometry-you-must-know/#%E5%B8%B8%E8%A7%81%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF" class="headerlink" title="常见的应用场景"></a>常见的应用场景</h2><h3 id="图像应用"><a href="https://w3ctrain.com/2018/08/20/trigonometry-you-must-know/#%E5%9B%BE%E5%83%8F%E5%BA%94%E7%94%A8" class="headerlink" title="图像应用"></a>图像应用</h3><p>最直观的应用是使用三角函数来绘制 Wave 曲线</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> x = <span class="number">0</span>; x &lt; width; x++) {</span><br><span class="line">  <span class="keyword">const</span> y = <span class="built_in">Math</span>.sin(x * a) * amplitude</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>
<p><a href="./01_files/6f0e630871a21000ade5182aa0a923da1529950106843.jpeg" title="简单曲线" class="fancybox" rel="article0"><img src="./01_files/6f0e630871a21000ade5182aa0a923da1529950106843.jpeg" alt="简单曲线"></a><div class="fancybox-caption"><span>简单曲线</span></div></p>
<p>再结合三角函数偏移让左右成为波谷，中间成为波峰，就能得到曼妙的波纹。</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> x = <span class="number">0</span>; x &lt; width; x++) {</span><br><span class="line">  <span class="keyword">const</span> radians = x / width * <span class="built_in">Math</span>.PI * <span class="number">2</span></span><br><span class="line">  <span class="keyword">const</span> scale = (<span class="built_in">Math</span>.sin(radians - <span class="built_in">Math</span>.PI * <span class="number">0.5</span>) + <span class="number">1</span>) * <span class="number">0.5</span></span><br><span class="line">  <span class="keyword">const</span> y = <span class="built_in">Math</span>.sin(x * <span class="number">0.02</span> + xSpeed) * amplitude * scale</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>
<p><a href="./01_files/aa80c3fae3d32e6f26b1b4d83cb4e7b41529944369806.gif" title="图像上的应用" class="fancybox" rel="article0"><img src="./01_files/aa80c3fae3d32e6f26b1b4d83cb4e7b41529944369806.gif" alt="图像上的应用"></a><div class="fancybox-caption"><span>图像上的应用</span></div></p>
<p>之前掘金上很火的<a href="https://juejin.im/post/5b4ffa045188251b134e7211" target="_blank" rel="noopener">一篇文章</a>，也是同样的道理，使用两层正弦函数绘制曲线，fill 之后加上 stagger 动画，就能得到非常酷炫的🌊效果。</p>
<p><a href="./01_files/upload_a699048361b2fbef50de3b2313d4111c-164b06889bcd9a6a.gif" title="wave" class="fancybox" rel="article0"><img src="./01_files/upload_a699048361b2fbef50de3b2313d4111c-164b06889bcd9a6a.gif" alt="wave"></a><div class="fancybox-caption"><span>wave</span></div></p>
<p>如果再结合鼠标位置 + lerp 动画，就能实现<a href="https://www.smartisan.com/u1/#/overview" target="_blank" rel="noopener">坚果首页</a>同款的动画。</p>
<p><a href="./01_files/upload_55daba53d9a29da829339d514bf471b5-smartisan-wave.gif" title="smartisan" class="fancybox" rel="article0"><img src="./01_files/upload_55daba53d9a29da829339d514bf471b5-smartisan-wave.gif" alt="smartisan"></a><div class="fancybox-caption"><span>smartisan</span></div></p>
<p>这篇文章大部分代码都可以在我的 <a href="https://codepen.io/HelKyle/" target="_blank" rel="noopener">Codepen</a> 主页看到。</p>
<h3 id="SlowInSlowOut"><a href="https://w3ctrain.com/2018/08/20/trigonometry-you-must-know/#SlowInSlowOut" class="headerlink" title="SlowInSlowOut"></a>SlowInSlowOut</h3><p>正余弦曲线有很自然地缓入缓出的特性，并且在一个周期里面从 -1 到 1 再回到 -1，非常适合用来模拟一些物理效果。因为真实世界里面，汽车都是缓慢启动，加速，减速，再缓慢减速直到速度变为 0 的，突变会让人很难受。左边的摆球是线性匀速摆动，右边是用了三角函数优化的结果。显然左边的效果设计师会打人。</p>
<p><a href="./01_files/upload_013e29c149145253ae784b5797e864e9-swing ball.gif" title="swing-ball" class="fancybox" rel="article0"><img src="./01_files/upload_013e29c149145253ae784b5797e864e9-swing ball.gif" alt="swing-ball"></a><div class="fancybox-caption"><span>swing-ball</span></div></p>
<p>只需使用 sin 或 cos 乘以最大角度，就可以得到在摆动最大角度之间的 SlowInSlowOut。</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctx.rotate(<span class="built_in">Math</span>.cos(t / <span class="number">180</span> * <span class="built_in">Math</span>.PI) * <span class="built_in">Math</span>.PI * <span class="number">0.25</span>)</span><br></pre></td></tr></tbody></table></figure></div>
<h3 id="角度控制"><a href="https://w3ctrain.com/2018/08/20/trigonometry-you-must-know/#%E8%A7%92%E5%BA%A6%E6%8E%A7%E5%88%B6" class="headerlink" title="角度控制"></a>角度控制</h3><p>在开发过程中，我们常常需要跟角度打交道，比如在头像左上角（45deg）显示 Notification 红点，用鼠标控制 rotation 等等。</p>
<p>前端 JS 里面 Math.atan2(y, x) 可以用来计算 (x, y) 和 x 轴正方向的夹角弧度值。</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCurrentDegree</span> (<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">const</span> deltaX = mouse.x - <span class="built_in">window</span>.innerWidth * <span class="number">0.5</span></span><br><span class="line">  <span class="keyword">const</span> deltaY = mouse.y - <span class="built_in">window</span>.innerHeight * <span class="number">0.5</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.atan2(deltaY, deltaX) * <span class="number">180</span> / <span class="built_in">Math</span>.PI</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>
<p><a href="./01_files/upload_3188da785b913413dc7ae15875c03c51-war-star.gif" title="war-star" class="fancybox" rel="article0"><img src="./01_files/upload_3188da785b913413dc7ae15875c03c51-war-star.gif" alt="war-star"></a><div class="fancybox-caption"><span>war-star</span></div></p>
<p>插一句，三角函数相关的动画并不一定需要用 js 来写，比如下面的 DEMO，使用 compass 依赖，同样可以做到灵活控制在特定角度的动画（千万不要手写各个点的坐标！！！后期没办法维护）</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="SCSS"><figure class="iseeu highlight /scss"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">import</span> <span class="string">"compass"</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.checkbox</span>:checked {</span><br><span class="line">  ~ <span class="selector-tag">button</span> {</span><br><span class="line">    <span class="variable">$per</span>: <span class="number">180</span> / <span class="number">4</span>;</span><br><span class="line">    @<span class="keyword">for</span> <span class="variable">$i</span> from 1 through 6 {</span><br><span class="line">      &amp;:nth-of-type(#{<span class="variable">$i</span>}) {</span><br><span class="line">        <span class="variable">$angle</span>: <span class="variable">$per</span> * (<span class="variable">$i</span> - <span class="number">1</span>) * <span class="number">1deg</span> + <span class="number">180deg</span>;</span><br><span class="line">        <span class="variable">$x</span>: cos(<span class="variable">$angle</span>) * <span class="variable">$d</span>;</span><br><span class="line">        <span class="variable">$y</span>: sin(<span class="variable">$angle</span>) * <span class="variable">$d</span>;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">transform</span>: translate(<span class="variable">$x</span>, <span class="variable">$y</span>) rotate(<span class="number">0deg</span>) ;</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>
<p><a href="./01_files/upload_1182b9f05dc6415f6adf049026c153e3-popping-menu.gif" title="千万不要手写各个点的坐标！！！" class="fancybox" rel="article0"><img src="./01_files/upload_1182b9f05dc6415f6adf049026c153e3-popping-menu.gif" alt="千万不要手写各个点的坐标！！！"></a><div class="fancybox-caption"><span>千万不要手写各个点的坐标！！！</span></div></p>
<p><a href="https://codepen.io/HelKyle/pen/qygvJz" target="_blank" rel="noopener">源码</a></p>
<h2 id="Case-Study"><a href="https://w3ctrain.com/2018/08/20/trigonometry-you-must-know/#Case-Study" class="headerlink" title="Case Study"></a>Case Study</h2><p>经常用到的场景大概就这些吧，再以一个案例分析来复习一下。</p>
<p>前两天在 Codepen 首页看到热门推荐，作者用存 css 动画来实现一个行走的动画，挺新颖的，然而仔细一看，脚步的动画真心觉得别扭，于是想用三角函数优化一下。<br><a href="./01_files/upload_81362c19a12297ada0fbc69d153fefdc-sadman.gif" title="sad man" class="fancybox" rel="article0"><img src="./01_files/upload_81362c19a12297ada0fbc69d153fefdc-sadman.gif" alt="sad man"></a><div class="fancybox-caption"><span>sad man</span></div></p>
<p>绘制头部：</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">drawHead (t) {</span><br><span class="line">  ctx.save()</span><br><span class="line">  ctx.beginPath()</span><br><span class="line">  ctx.translate(<span class="number">0</span>, <span class="built_in">Math</span>.sin(t) * <span class="number">4</span>)</span><br><span class="line">  ctx.arc(<span class="number">80</span>, <span class="number">-35</span>, <span class="number">35</span>, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI)</span><br><span class="line">  ctx.fill()</span><br><span class="line">  ctx.closePath()</span><br><span class="line">  ctx.restore()</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>
<p>我会给每个方法传入周期参数 t， t 从 0 到 2 PI , 这样能保证所有的周期运动时间同步。</p>
<p><a href="./01_files/upload_7268cd674c303378e6c0819c5476cf8f-ball.gif" title="head" class="fancybox" rel="article0"><img src="./01_files/upload_7268cd674c303378e6c0819c5476cf8f-ball.gif" alt="head"></a><div class="fancybox-caption"><span>head</span></div></p>
<p>身体和阴影的绘制都差不多，直接跳过看脚步动画。</p>
<p>脚有两只，按道理应该是抬脚到落脚的动作完成时，其他部位都完成了一个完整的周期，所以在绘制脚的时候，t 需要除以 2。然后第一只脚和第二只脚相差半个脚自身的周期，可以直接将 t 替换成 t + Math.PI 就是第二脚的动画。</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">drawFeet (t) {</span><br><span class="line">t = t / <span class="number">2</span></span><br><span class="line">  ctx.translate(<span class="built_in">Math</span>.cos(t) * <span class="number">-50</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 另一只脚</span></span><br><span class="line">  ctx.translate(<span class="built_in">Math</span>.cos(t + <span class="built_in">Math</span>.PI) * <span class="number">-50</span>, <span class="number">0</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>
<p><a href="./01_files/upload_31d8b98023a1128bef6b1b6d258413dd-feet.gif" title="feet" class="fancybox" rel="article0"><img src="./01_files/upload_31d8b98023a1128bef6b1b6d258413dd-feet.gif" alt="feet"></a><div class="fancybox-caption"><span>feet</span></div></p>
<p>脚步动画自身周期的一半是在地面上的，可以通过判断一下 sin 值，小于 0 则不做 y 纵轴方向上的变化。</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctx.translate(<span class="built_in">Math</span>.cos(t) * <span class="number">-50</span>, <span class="built_in">Math</span>.sin(t) &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.sin(t) * <span class="number">-35</span> : <span class="number">0</span>)</span><br></pre></td></tr></tbody></table></figure></div>
<p><a href="./01_files/upload_d09ff3e086e6693f9808b35f4ce2328b-feet2.gif" title="feet2" class="fancybox" rel="article0"><img src="./01_files/upload_d09ff3e086e6693f9808b35f4ce2328b-feet2.gif" alt="feet2"></a><div class="fancybox-caption"><span>feet2</span></div></p>
<p>还没完，为了让脚更加逼真，同样在前半个周期做一下 rotate 。</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="JS"><figure class="iseeu highlight /js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (t &lt; <span class="built_in">Math</span>.PI) {</span><br><span class="line">  ctx.rotate(<span class="built_in">Math</span>.sin(t) * <span class="built_in">Math</span>.PI / <span class="number">180</span> * <span class="number">-5</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>
<p><a href="./01_files/upload_217d4d1fe35abf500d17b78defac7445-feet3.gif" title="feet3" class="fancybox" rel="article0"><img src="./01_files/upload_217d4d1fe35abf500d17b78defac7445-feet3.gif" alt="feet3"></a><div class="fancybox-caption"><span>feet3</span></div></p>
<p>最终得到的效果是这样的：<br><a href="./01_files/upload_45025fcd1837ff31048db203afa206c1-sadman-sine.gif" title="sad man in sine" class="fancybox" rel="article0"><img src="./01_files/upload_45025fcd1837ff31048db203afa206c1-sadman-sine.gif" alt="sad man in sine"></a><div class="fancybox-caption"><span>sad man in sine</span></div></p>
<p><a href="https://codepen.io/HelKyle/pen/Mqgpvb" target="_blank" rel="noopener">源码</a></p>
<h2 id="总结"><a href="https://w3ctrain.com/2018/08/20/trigonometry-you-must-know/#%E6%80%BB%E7%BB%93" class="headerlink" title="总结"></a>总结</h2><p>现如今前端发展速度非常迅速，刚入门的同学刚学完 jQuery 就被告知，You Dont Need jQuery。追新的脚本根本停不下来，在学习新框架新技能的同时，也别忘了基础知识的重要性。</p>
<p>好了，今天就分享到这里，希望一次汇集这么多效果，能让你下次使用三角函数更得心应手。</p>
<p>以上大部分代码都可以在我的 <a href="https://codepen.io/HelKyle/" target="_blank" rel="noopener">Codepen</a> 主页看到。</p>
<h2 id="相关链接"><a href="https://w3ctrain.com/2018/08/20/trigonometry-you-must-know/#%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5" class="headerlink" title="相关链接"></a>相关链接</h2><ul>
<li><a href="https://www.desmos.com/calculator/sa6pki00id" target="_blank" rel="noopener">三角函数图像</a></li>
<li><a href="https://juejin.im/post/5b4ffa045188251b134e7211" target="_blank" rel="noopener">水波图实现原理</a></li>
</ul>

                  <blockquote>
                    
                        
                          <p>如需转载，请注明出处:
                            <a href="http://w3ctrain.com/2018/08/20/trigonometry-you-must-know/" title="http://w3ctrain.com/2018/08/20/trigonometry-you-must-know/">http://w3ctrain.com
                              /
                                2018/08/20/trigonometry-you-must-know/
                            </a>
                          </p>
                  </blockquote>
                  
                    
        </div>
        <div class="dji-ad">
  
    <script src="./01_files/lead"></script><a target="_blank" href="https://click.dji.com/AMWUpekGoOug4QHIJj8roA?pm=banner"><img src="./01_files/970-250.jpg" style="width: 970px; height: 250px;"></a>
  
</div>

          <footer>
            
  
  <div class="tag-list">
    <a class="tag" href="https://w3ctrain.com/tags/%E5%85%8D%E8%B4%B9%E6%95%99%E5%AD%A6%E5%BD%95%E5%83%8F%E5%B8%A6/">免费教学录像带</a>
  </div>


              
                <div class="donate-area" id="donate-wrap">
	<div class="flipper">
      <div class="front">
		<div class="inner">
			<img class="no-fancybox" src="./01_files/donate.png">
	        <span class="donate-txt">
	           觉得对你有所帮助，可以请我喝杯咖啡。
	        </span>
		</div>
      </div>
      <div class="back">
    		<!-- 支付宝打赏图案 -->
          <img class="no-fancybox" src="./01_files/alipay.jpg" title="支付宝打赏"><!--
    		 微信打赏图案
		 --><img class="no-fancybox" src="./01_files/wechat.jpg" title="微信打赏">
      </div>

    </div>
</div>

                  
                    
                      <!-- 分页 -->
<nav class="post-pagination">
	
	    
	    
		    <a class="older-posts" href="https://w3ctrain.com/2018/06/26/wave-step-by-step/">
		        装逼速成之手把手教你画 Wave 动画 →
		    </a>
	    
	
</nav>

                        
                          
                            
  <script src="./01_files/gitment.browser.js.下載"></script>
  <section id="comments"><div lang="en-US" class="gitment-container gitment-root-container"><div><div lang="en-US" class="gitment-container gitment-header-container"><span class="gitment-header-like-btn">
    <svg class="gitment-heart-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"><path d="M25 39.7l-.6-.5C11.5 28.7 8 25 8 19c0-5 4-9 9-9 4.1 0 6.4 2.3 8 4.1 1.6-1.8 3.9-4.1 8-4.1 5 0 9 4 9 9 0 6-3.5 9.7-16.4 20.2l-.6.5zM17 12c-3.9 0-7 3.1-7 7 0 5.1 3.2 8.5 15 18.1 11.8-9.6 15-13 15-18.1 0-3.9-3.1-7-7-7-3.5 0-5.4 2.1-6.9 3.8L25 17.1l-1.1-1.3C22.4 14.1 20.5 12 17 12z"></path></svg>
    Like
    
  </span><span>
     • <strong>2</strong> Comments
  </span><a class="gitment-header-issue-link" href="https://github.com/HelKyle/blog-comment/issues/252" target="_blank">Issue Page</a></div></div><div><div lang="en-US" class="gitment-container gitment-comments-container"><ul class="gitment-comments-list"><li class="gitment-comment">
      <a class="gitment-comment-avatar" href="https://github.com/Gocy015" target="_blank">
        <img class="gitment-comment-avatar-img" src="./01_files/14084540">
      </a>
      <div class="gitment-comment-main">
        <div class="gitment-comment-header">
          <a class="gitment-comment-name" href="https://github.com/Gocy015" target="_blank">
            Gocy015
          </a>
          commented on
          <span title="Tue Aug 21 2018 18:02:51 GMT+0800 (中國標準時間)">Tue Aug 21 2018</span>
          
          <div class="gitment-comment-like-btn"><svg class="gitment-heart-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"><path d="M25 39.7l-.6-.5C11.5 28.7 8 25 8 19c0-5 4-9 9-9 4.1 0 6.4 2.3 8 4.1 1.6-1.8 3.9-4.1 8-4.1 5 0 9 4 9 9 0 6-3.5 9.7-16.4 20.2l-.6.5zM17 12c-3.9 0-7 3.1-7 7 0 5.1 3.2 8.5 15 18.1 11.8-9.6 15-13 15-18.1 0-3.9-3.1-7-7-7-3.5 0-5.4 2.1-6.9 3.8L25 17.1l-1.1-1.3C22.4 14.1 20.5 12 17 12z"></path></svg> </div>
        </div>
        <div class="gitment-comment-body gitment-markdown"><p>做前端这么难的吗，看来我还是不转行好了</p></div>
      </div>
    <img class="gitment-hidden" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></li><li class="gitment-comment">
      <a class="gitment-comment-avatar" href="https://github.com/blueken" target="_blank">
        <img class="gitment-comment-avatar-img" src="./01_files/222387">
      </a>
      <div class="gitment-comment-main">
        <div class="gitment-comment-header">
          <a class="gitment-comment-name" href="https://github.com/blueken" target="_blank">
            blueken
          </a>
          commented on
          <span title="Wed Aug 22 2018 11:08:33 GMT+0800 (中國標準時間)">Wed Aug 22 2018</span>
          
          <div class="gitment-comment-like-btn"><svg class="gitment-heart-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"><path d="M25 39.7l-.6-.5C11.5 28.7 8 25 8 19c0-5 4-9 9-9 4.1 0 6.4 2.3 8 4.1 1.6-1.8 3.9-4.1 8-4.1 5 0 9 4 9 9 0 6-3.5 9.7-16.4 20.2l-.6.5zM17 12c-3.9 0-7 3.1-7 7 0 5.1 3.2 8.5 15 18.1 11.8-9.6 15-13 15-18.1 0-3.9-3.1-7-7-7-3.5 0-5.4 2.1-6.9 3.8L25 17.1l-1.1-1.3C22.4 14.1 20.5 12 17 12z"></path></svg> </div>
        </div>
        <div class="gitment-comment-body gitment-markdown"><p>好文，其实三角函数简单又实用，只是大家很少有耐心去研究沉淀</p>
<h2>PS :<br>
C 值会影响图像左右移动，C 值为正数，图像右移，C 值为负数，图像左移。</h2>
<p>这里应该写反了，C为正，图像左移</p></div>
      </div>
    <img class="gitment-hidden" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></li></ul></div></div><div><div lang="en-US" class="gitment-container gitment-editor-container">
      <a class="gitment-editor-avatar" href="https://github.com/login/oauth/authorize?scope=public_repo&amp;redirect_uri=https%3A%2F%2Fw3ctrain.com%2F2018%2F08%2F20%2Ftrigonometry-you-must-know%2F&amp;client_id=63248860eeddcf4ac13e&amp;client_secret=75017e5944a9b2fbe74259b3dec337e45795bce2" title="login with GitHub">
              <svg class="gitment-github-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"><path d="M25 10c-8.3 0-15 6.7-15 15 0 6.6 4.3 12.2 10.3 14.2.8.1 1-.3 1-.7v-2.6c-4.2.9-5.1-2-5.1-2-.7-1.7-1.7-2.2-1.7-2.2-1.4-.9.1-.9.1-.9 1.5.1 2.3 1.5 2.3 1.5 1.3 2.3 3.5 1.6 4.4 1.2.1-1 .5-1.6 1-2-3.3-.4-6.8-1.7-6.8-7.4 0-1.6.6-3 1.5-4-.2-.4-.7-1.9.1-4 0 0 1.3-.4 4.1 1.5 1.2-.3 2.5-.5 3.8-.5 1.3 0 2.6.2 3.8.5 2.9-1.9 4.1-1.5 4.1-1.5.8 2.1.3 3.6.1 4 1 1 1.5 2.4 1.5 4 0 5.8-3.5 7-6.8 7.4.5.5 1 1.4 1 2.8v4.1c0 .4.3.9 1 .7 6-2 10.2-7.6 10.2-14.2C40 16.7 33.3 10 25 10z"></path></svg>
            </a>
    
    <div class="gitment-editor-main">
      <div class="gitment-editor-header">
        <nav class="gitment-editor-tabs">
          <button class="gitment-editor-tab gitment-selected">Write</button>
          <button class="gitment-editor-tab">Preview</button>
        </nav>
        <div class="gitment-editor-login">
          <a class="gitment-editor-login-link" href="https://github.com/login/oauth/authorize?scope=public_repo&amp;redirect_uri=https%3A%2F%2Fw3ctrain.com%2F2018%2F08%2F20%2Ftrigonometry-you-must-know%2F&amp;client_id=63248860eeddcf4ac13e&amp;client_secret=75017e5944a9b2fbe74259b3dec337e45795bce2">Login</a> with GitHub
        </div>
      </div>
      <div class="gitment-editor-body">
        <div class="gitment-editor-write-field">
          <textarea placeholder="Leave a comment" title="Login to Comment" disabled=""></textarea>
        </div>
        <div class="gitment-editor-preview-field gitment-hidden">
          <div class="gitment-editor-preview gitment-markdown"></div>
        </div>
      </div>
    </div>
    <div class="gitment-editor-footer">
      <a class="gitment-editor-footer-tip" href="https://guides.github.com/features/mastering-markdown/" target="_blank">
        Styling with Markdown is supported
      </a>
      <button class="gitment-editor-submit" title="Login to Comment" disabled="">Comment</button>
    </div>
  </div></div><div><div lang="en-US" class="gitment-container gitment-footer-container">
    Powered by
    <a class="gitment-footer-project-link" href="https://github.com/imsun/gitment" target="_blank">
      Gitment
    </a>
  </div></div></div></section>
  <script>
    (function () {
      var HOST = 'https://www.w3ctrain.com'
      var year = parseInt(location.pathname.slice(1))
      id = HOST + location.pathname
      if (year && year >= 2018) {
        id = location.pathname
      }
      var gitment = new Gitment({
          id: id,
          owner: 'HelKyle',
          repo: 'blog-comment',
          oauth: {
            client_id: '63248860eeddcf4ac13e',
            client_secret: '75017e5944a9b2fbe74259b3dec337e45795bce2',
          }
        })
        gitment.render('comments')
    })()
  </script>

                              
          </footer>
      </div>
    </article>
  </div>
</div>



        <footer class="primary-footer">
            <div class="inner-footer">
                <div class="row-alt footer-main">
  <div class="grid">
    <dl class="col-1-3 footer-item1">
        <dt>推荐站点</dt>
        
          <dd>
              <a href="http://w3ctrain.github.io/" target="__blank">前端收藏夹</a>
          </dd>
        
    </dl><!--
    --><dl class="col-1-3 footer-item2">
        <dt>友情链接</dt>
        
          <dd>
              <a href="http://aevit.xyz/" target="__blank">Aevit's Lab</a>
          </dd>
        
          <dd>
              <a href="http://pandara.xyz/" target="__blank">Pandara's Zone</a>
          </dd>
        
          <dd>
              <a href="http://www.welkinx.com/" target="__blank">Welkinx</a>
          </dd>
        
    </dl><!--
  --><dl class="col-1-3 footer-item3">
        <dt>"御" Mavic Pro 铂金版</dt>
        <dd>
            <a href="http://click.dji.com/ANk9eRF147luGSrTi3Tx?pm=link">
                <img src="./01_files/7b72b6e2a2f022f431fe4115839a36bc1530109453748.jpeg" alt="Mavic">
            </a>
        </dd>
    </dl>
  </div>
</div>

<div class="footer-sub">
    <div class="foot-nav">
        <div class="wrapper">
  <div class="social-box">
    <div class="front">
      FOLLOW ME
    </div>
    <div class="back">
      <ul class="social">
          
          <li>
            <a href="https://juejin.im/user/5656940e00b0bf379ef323f6" title="juejin">
              <img src="./01_files/juejin.svg">
            </a>
          </li>
          
          <li>
            <a href="https://github.com/HelKyle" title="github">
              <img src="./01_files/github.svg">
            </a>
          </li>
          
          <li>
            <a href="https://weibo.com/joueu" title="weibo">
              <img src="./01_files/weibo.svg">
            </a>
          </li>
          
        </ul>
    </div>
  </div>
</div>

    </div>
    <div class="container">
        Proudly published with <a href="http://hexo.io/" target="__blank">hexo</a>.
        <br>
        ©copyright 2015 - 2018

        
            <span id="busuanzi_container_site_pv" style="display: inline;">
                本站总访问量&nbsp;<span id="busuanzi_value_site_pv">66163</span>&nbsp;次
            </span>
        
        
            <br>
            <small>粤ICP备15052660号</small>
        
    </div>
</div>

            </div>
            <div class="inner-footer-for-effect">
                <div class="row-alt footer-main">
  <div class="grid">
    <dl class="col-1-3 footer-item1">
        <dt>推荐站点</dt>
        
          <dd>
              <a href="http://w3ctrain.github.io/" target="__blank">前端收藏夹</a>
          </dd>
        
    </dl><!--
    --><dl class="col-1-3 footer-item2">
        <dt>友情链接</dt>
        
          <dd>
              <a href="http://aevit.xyz/" target="__blank">Aevit's Lab</a>
          </dd>
        
          <dd>
              <a href="http://pandara.xyz/" target="__blank">Pandara's Zone</a>
          </dd>
        
          <dd>
              <a href="http://www.welkinx.com/" target="__blank">Welkinx</a>
          </dd>
        
    </dl><!--
  --><dl class="col-1-3 footer-item3">
        <dt>"御" Mavic Pro 铂金版</dt>
        <dd>
            <a href="http://click.dji.com/ANk9eRF147luGSrTi3Tx?pm=link">
                <img src="./01_files/7b72b6e2a2f022f431fe4115839a36bc1530109453748.jpeg" alt="Mavic">
            </a>
        </dd>
    </dl>
  </div>
</div>

<div class="footer-sub">
    <div class="foot-nav">
        <div class="wrapper">
  <div class="social-box">
    <div class="front">
      FOLLOW ME
    </div>
    <div class="back">
      <ul class="social">
          
          <li>
            <a href="https://juejin.im/user/5656940e00b0bf379ef323f6" title="juejin">
              <img src="./01_files/juejin.svg">
            </a>
          </li>
          
          <li>
            <a href="https://github.com/HelKyle" title="github">
              <img src="./01_files/github.svg">
            </a>
          </li>
          
          <li>
            <a href="https://weibo.com/joueu" title="weibo">
              <img src="./01_files/weibo.svg">
            </a>
          </li>
          
        </ul>
    </div>
  </div>
</div>

    </div>
    <div class="container">
        Proudly published with <a href="http://hexo.io/" target="__blank">hexo</a>.
        <br>
        ©copyright 2015 - 2018

        
            <span id="busuanzi_container_site_pv">
                本站总访问量&nbsp;<span id="busuanzi_value_site_pv"></span>&nbsp;次
            </span>
        
        
            <br>
            <small>粤ICP备15052660号</small>
        
    </div>
</div>

            </div>
        </footer>
    </div>
    <div id="js-back-top" class="back-top">
</div>

    
	<script>
		var _hmt = _hmt || [];
		(function() {
		  var hm = document.createElement("script");
		  hm.src = "//hm.baidu.com/hm.js?" + "51e07bad81ef7e68eccec792686d8c06";
		  var s = document.getElementsByTagName("script")[0]; 
		  s.parentNode.insertBefore(hm, s);
		})();
	</script>

<script src="./01_files/jquery.imagesloaded.min.js.下載"></script>
<!--<script src="/js/jquery.imagesloaded.min.js"></script>-->
<!--// <script src="/js/gallery.js"></script>-->
<!-- <script src="/js/dist/xlsx.core.min.js"></script>-->
<!--<script src="/js/common.js"></script>-->


<script async="" src="./01_files/busuanzi.pure.mini.js.下載"></script>



<script src="./01_files/moment.min.js.下載"></script>
<script src="./01_files/main.js.下載"></script>



  <!-- fancybox -->
  <link rel="stylesheet" href="./01_files/jquery.fancybox.css" media="screen" type="text/css">
  <script src="./01_files/jquery.fancybox.pack.js.下載"></script>
  <script type="text/javascript">
    (function($){
        // Caption
      $('.entry').each(function(i){
        $(this).find('img').not('.no-fancybox').each(function(){
          if ($(this).parent().hasClass('fancybox')) return;
          var alt = this.alt;
          if (alt) $(this).after('<div class="fancybox-caption">' + '<span>' + alt + '</span>' + '</div>');
          $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
        });

        $(this).find('.fancybox').each(function(){
          $(this).attr('rel', 'article' + i);
        });
      });
      $('.fancybox').fancybox();
    })(jQuery);
  </script>




</body></html>